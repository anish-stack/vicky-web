(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3210],{68711:function(e,a,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/driver-register",function(){return i(50559)}])},50559:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return j}});var r=i(85893),s=i(11163),t=i(67294),n=i(9008),l=i.n(n),c=i(41664),o=i.n(c),d=i(55066),m=i(16310),u=i(88748),p=i(79556),h=i(25675),g=i.n(h),v=i(9198),x=i.n(v),y=i(33592);function j(){var e,a,i;let n="https://www.webapi.taxisafar.com",c=(0,s.useRouter)(),[h,v]=(0,t.useState)(!1),[j,N]=(0,t.useState)(""),[b,f]=(0,t.useState)(null),[D,w]=(0,t.useState)(!1),[F,P]=(0,t.useState)(1),C=(0,t.useRef)(null),[E,R]=(0,t.useState)([]),[k,V]=(0,t.useState)(!1),[S,B]=(0,t.useState)(""),[L,q]=(0,t.useState)(""),[M,T]=(0,t.useState)(""),[_,Y]=(0,t.useState)(""),[U,A]=(0,t.useState)(""),[W,Z]=(0,t.useState)(30),[I,O]=(0,t.useState)(["","","",""]),[$,K]=(0,t.useState)(""),[z,G]=(0,t.useState)(!0),[J,X]=(0,t.useState)(!1),[H,Q]=(0,t.useState)(""),[ee,ea]=(0,t.useState)(""),[ei,er]=(0,t.useState)(""),[es,et]=(0,t.useState)(""),[en,el]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{V(!0);try{let e=await fetch("https://www.webapi.taxisafar.com/api/cities"),a=await e.json();R(a.data)}catch(e){q("Failed to load cities")}finally{V(!1)}})()},[]);let ec=(0,d.TA)({initialValues:{name:"",dob:"",mobile:"",email:"",city:"",referral_id:"",profilePhoto:null},validationSchema:m.Ry({name:m.Z_().required("Name is required").matches(/^[a-zA-Z ]*$/,"Name should only contain letters"),dob:m.Z_().required("Date of Birth is required").matches(/^\d{2}-\d{2}-\d{4}$/,"Date must be in dd-mm-yyyy format"),mobile:m.Z_().required("Mobile number is required").matches(/^[0-9]{10}$/,"Mobile number must be 10 digits"),email:m.Z_().email("Invalid email address").required("Email is required"),city:m.Z_().required("City is required"),referral_id:m.Z_(),profilePhoto:m.nK().required("Profile photo is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:image"):["image/jpeg","image/png"].includes(e.type)))}),onSubmit:async e=>{P(2);try{B("");let a=new FormData;if(a.append("name",e.name),a.append("dob",e.dob),a.append("mobile","+91".concat(e.mobile)),a.append("email",e.email),a.append("city",e.city),a.append("referral_id",e.referral_id||""),"string"==typeof e.profilePhoto&&e.profilePhoto.startsWith("data:image")){let i=await fetch(e.profilePhoto),r=await i.blob(),s=new File([r],"profile.png",{type:"image/png"});a.append("profilePhoto",s)}else if(e.profilePhoto instanceof File)a.append("profilePhoto",e.profilePhoto);else{B("Invalid profile photo");return}let i=await fetch("".concat(n,"/api/user"),{method:"POST",body:a}),r=await i.json();i.ok?P(2):B(r.message||"Registration failed")}catch(e){B("An error occurred during registration"),console.error("Registration error:",e)}}}),eo=()=>{w(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{C.current&&(C.current.srcObject=e)}).catch(e=>{console.error("Camera error: ",e),N("Could not access camera"),v(!0)})},ed=()=>{C.current&&C.current.srcObject&&C.current.srcObject.getTracks().forEach(e=>e.stop()),w(!1)},em=(0,d.TA)({initialValues:{aadhaarNumber:"",aadhaarDocument:null,panDocument:null,drivingLicenseNumber:"",drivingLicenseExpiry:"",drivingLicenseDocument:null},validationSchema:m.Ry({aadhaarNumber:m.Z_().required("Aadhaar number is required").matches(/^\d{12}$/,"Aadhaar must be 12 digits"),aadhaarDocument:m.nK().required("Aadhaar document is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:image"):["image/jpeg","image/png"].includes(e.type))),panDocument:m.nK().required("PAN document is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:image"):["image/jpeg","image/png"].includes(e.type))),drivingLicenseNumber:m.Z_().required("License number is required"),drivingLicenseExpiry:m.Z_().required("Expiry date is required").matches(/^\d{2}-\d{2}-\d{4}$/,"Date must be in dd-mm-yyyy format"),drivingLicenseDocument:m.nK().required("Driving license document is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:image"):["image/jpeg","image/png"].includes(e.type)))}),onSubmit:async e=>{P(3);try{console.log("Document submission data:",e);let a=new FormData;a.append("aadhaarNumber",e.aadhaarNumber),a.append("drivingLicenseNumber",e.drivingLicenseNumber),a.append("drivingLicenseExpiry",e.drivingLicenseExpiry),e.aadhaarDocument&&a.append("aadhaarDocument",e.aadhaarDocument),e.panDocument&&a.append("panDocument",e.panDocument),e.drivingLicenseDocument&&a.append("drivingLicenseDocument",e.drivingLicenseDocument);let i=await fetch("".concat(n,"/api/"),{method:"POST",body:a}),r=await i.json();i.ok?P(4):(N(r.message||"Vehicle registration failed"),v(!0)),P(3)}catch(e){N("Failed to submit documents. Please try again."),v(!0)}}}),eu=(e,a)=>{if(console.log("File selected:",a),!a){em.setFieldValue(e,null),em.setFieldTouched(e,!0);return}if(!["image/jpeg","image/png"].includes(a.type)){N("Please upload a JPEG or PNG image"),v(!0),em.setFieldValue(e,null),em.setFieldTouched(e,!0);return}if(a.size>5242880){N("File size too large (max 5MB allowed)"),v(!0),em.setFieldValue(e,null),em.setFieldTouched(e,!0);return}let i=new FileReader;i.onload=()=>{i.result&&(em.setFieldValue(e,i.result),em.setFieldTouched(e,!0))},i.onerror=()=>{N("Error reading file. Please try again."),v(!0),em.setFieldValue(e,null),em.setFieldTouched(e,!0)},i.readAsDataURL(a)};(0,t.useEffect)(()=>{if(J){if(W>0){let e=setTimeout(()=>Z(W-1),1e3);return()=>clearTimeout(e)}G(!1)}},[W,J]);let ep=(e,a)=>{if(/^\d*$/.test(a)&&a.length<=1){let i=[...I];if(i[e]=a,O(i),K(""),a&&e<3){let a=document.getElementById("otp-input-".concat(e+1));a&&a.focus()}i.every(e=>""!==e)&&4===i.join("").length&&eg()}},eh=(e,a)=>{if("Backspace"===a.key&&!I[e]&&e>0){let a=document.getElementById("otp-input-".concat(e-1));a&&a.focus()}},eg=async()=>{},ev=async()=>{console.log("Resending OTP..."),Z(30),G(!0)},ex=(e,a)=>{if(console.log("Vehicle file selected:",a),!a){ey.setFieldValue(e,null),ey.setFieldTouched(e,!0);return}if(!["image/jpeg","image/png","application/pdf"].includes(a.type)){N("Please upload a JPEG, PNG, or PDF file"),v(!0),ey.setFieldValue(e,null),ey.setFieldTouched(e,!0);return}if(a.size>5242880){N("File size too large (max 5MB allowed)"),v(!0),ey.setFieldValue(e,null),ey.setFieldTouched(e,!0);return}let i=new FileReader;i.onload=()=>{if(i.result)switch(ey.setFieldValue(e,i.result),ey.setFieldTouched(e,!0),e){case"rcFrontDocument":Q(a.name);break;case"rcBackDocument":ea(a.name);break;case"insuranceDocument":er(a.name);break;case"oneYearPermitDocument":et(a.name)}},i.onerror=()=>{N("Error reading file. Please try again."),v(!0),ey.setFieldValue(e,null),ey.setFieldTouched(e,!0)},i.readAsDataURL(a)},ey=(0,d.TA)({initialValues:{vehicleRegNumber:"",vehicleRegDate:"",regValidityDate:"",rcFrontDocument:null,rcBackDocument:null,insuranceDocument:null,insuranceExpiryDate:"",oneYearPermitDocument:null,oneYearPermitExpiryDate:""},validationSchema:m.Ry({vehicleRegNumber:m.Z_().required("Vehicle registration number is required").matches(/^[A-Za-z0-9]+$/,"Invalid registration number format"),vehicleRegDate:m.Z_().required("Registration date is required").matches(/^\d{2}-\d{2}-\d{4}$/,"Date must be in dd-mm-yyyy format"),regValidityDate:m.Z_().required("Registration validity date is required").matches(/^\d{2}-\d{2}-\d{4}$/,"Date must be in dd-mm-yyyy format").test("is-future","Registration must be valid (future date)",function(e){if(!e)return!1;let[a,i,r]=e.split("-");return new Date("".concat(r,"-").concat(i,"-").concat(a))>new Date}),rcFrontDocument:m.nK().required("RC front document is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:"):["image/jpeg","image/png","application/pdf"].includes(e.type))),rcBackDocument:m.nK().required("RC back document is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:"):["image/jpeg","image/png","application/pdf"].includes(e.type))),insuranceDocument:m.nK().required("Insurance document is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:"):["image/jpeg","image/png","application/pdf"].includes(e.type))),insuranceExpiryDate:m.Z_().required("Insurance expiry date is required").matches(/^\d{2}-\d{2}-\d{4}$/,"Date must be in dd-mm-yyyy format").test("is-future","Insurance must be valid (future date)",function(e){if(!e)return!1;let[a,i,r]=e.split("-");return new Date("".concat(r,"-").concat(i,"-").concat(a))>new Date}),oneYearPermitDocument:m.nK().required("1 Year Permit document is required").test("fileType","Unsupported file type",e=>!!e&&("string"==typeof e?e.startsWith("data:"):["image/jpeg","image/png","application/pdf"].includes(e.type))),oneYearPermitExpiryDate:m.Z_().required("1 Year Permit expiry date is required").matches(/^\d{2}-\d{2}-\d{4}$/,"Date must be in dd-mm-yyyy format").test("is-future","1 Year Permit must be valid (future date)",function(e){if(!e)return!1;let[a,i,r]=e.split("-");return new Date("".concat(r,"-").concat(i,"-").concat(a))>new Date})}),onSubmit:async e=>{console.log("Vehicle submission data:",e);try{let a=new FormData;a.append("vehicleRegNumber",e.vehicleRegNumber),a.append("vehicleRegDate",e.vehicleRegDate),a.append("regValidityDate",e.regValidityDate),a.append("insuranceExpiryDate",e.insuranceExpiryDate),a.append("oneYearPermitExpiryDate",e.oneYearPermitExpiryDate);let i=(e,i)=>{if("string"==typeof i&&i.startsWith("data:")){let r=atob(i.split(",")[1]),s=i.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(r.length),n=new Uint8Array(t);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);let l=new Blob([t],{type:s}),c=new File([l],"".concat(e,".").concat(s.split("/")[1]),{type:s});a.append(e,c)}};i("rcFrontDocument",e.rcFrontDocument),i("rcBackDocument",e.rcBackDocument),i("insuranceDocument",e.insuranceDocument),i("oneYearPermitDocument",e.oneYearPermitDocument),console.log("Submitting vehicle data:",a);let r=await fetch("".concat(n,"/api/"),{method:"POST",body:a}),s=await r.json();r.ok?P(4):(N(s.message||"Vehicle registration failed"),v(!0))}catch(e){N("An error occurred during vehicle registration"),v(!0),console.error("Vehicle registration error:",e)}}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Driver Registration"})}),(0,r.jsxs)("section",{className:"delivery-register-form-section",children:[(0,r.jsxs)("div",{className:"delivery-register-logo-container",children:[(0,r.jsx)(g(),{src:"/images/logo/d-logo.png",alt:"logo",width:120,height:20}),(0,r.jsx)("div",{className:"register-back-arrow",onClick:()=>F>1?P(F-1):c.push("/"),children:(0,r.jsx)(g(),{src:"/images/icons/back-arrow.svg",alt:"logo",width:38,height:38})})]}),(0,r.jsx)("div",{className:"delivery-register-step",children:[1,2,3].map((e,a)=>(0,r.jsx)("div",{className:"delivery-register-step-line ".concat(a<F?"active":""),children:" "},a))}),1===F&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"delivery-register-info",children:[(0,r.jsx)("h1",{className:"delivery-register-title",children:"Create Your Account"}),(0,r.jsx)("p",{className:"delivery-register-description",children:"Explore your ride by joining with TaxiSafar"})]}),(0,r.jsx)("form",{className:"form",onSubmit:ec.handleSubmit,autoComplete:"off",children:(0,r.jsx)("div",{className:"trip-options",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"driver-photo-upload",children:b?(0,r.jsxs)("div",{className:"driver-photo-preview",children:[(0,r.jsx)(g(),{width:93,height:93,src:b,alt:"Driver preview"}),(0,r.jsx)("button",{type:"button",className:"retake-photo-btn",onClick:eo,children:(0,r.jsx)(g(),{width:70,height:70,src:"/images/icons/camera-icon.svg",alt:"Driver preview"})})]}):(0,r.jsx)("button",{type:"button",className:"camera-btn",onClick:eo,children:(0,r.jsx)(g(),{src:"/images/icons/camera.svg",alt:"Camera",width:93,height:93})})}),ec.touched.profilePhoto&&ec.errors.profilePhoto&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ec.errors.profilePhoto}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"name",className:"delivery-form-level",children:"Full Name"}),(0,r.jsx)("input",{type:"text",className:"delivery-form-control",id:"name",name:"name",placeholder:"Enter your full name",value:ec.values.name,onChange:ec.handleChange,onBlur:ec.handleBlur}),ec.touched.name&&ec.errors.name&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ec.errors.name})]}),(0,r.jsxs)("div",{className:"mb-3 position-relative",children:[(0,r.jsx)("label",{htmlFor:"dob",className:"delivery-form-level",children:"Date of Birth"}),(0,r.jsxs)("div",{className:"input-group datepicker-container",children:[(0,r.jsx)(x(),{selected:ec.values.dob?new Date(ec.values.dob.split("-").reverse().join("-")):null,onChange:e=>{let a=e?(0,y.WU)(e,"dd-MM-yyyy"):"";ec.setFieldValue("dob",a)},dateFormat:"dd-MM-yyyy",placeholderText:"dd-mm-yyyy",className:"delivery-form-control",id:"dob",name:"dob",showYearDropdown:!0,dropdownMode:"select",showPopperArrow:!1,popperPlacement:"bottom-start",minDate:new Date(1900,0,1),maxDate:new Date,peekNextMonth:!0,showMonthDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100}),(0,r.jsx)("div",{className:"calendar-icon-container"})]}),ec.touched.dob&&ec.errors.dob&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ec.errors.dob})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"mobile",className:"delivery-form-level",children:"Mobile Number"}),(0,r.jsx)("input",{type:"tel",className:"delivery-form-control",id:"mobile",name:"mobile",placeholder:"Enter your number",value:ec.values.mobile,onChange:ec.handleChange,onBlur:ec.handleBlur}),ec.touched.mobile&&ec.errors.mobile&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ec.errors.mobile})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"email",className:"delivery-form-level",children:"Email"}),(0,r.jsx)("input",{type:"email",className:"delivery-form-control",id:"email",name:"email",placeholder:"Enter your email",value:ec.values.email,onChange:ec.handleChange,onBlur:ec.handleBlur}),ec.touched.email&&ec.errors.email&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ec.errors.email})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"city",className:"delivery-form-level",children:"City"}),(0,r.jsxs)("select",{className:"delivery-form-control",id:"city",name:"city",value:ec.values.city,onChange:ec.handleChange,onBlur:ec.handleBlur,disabled:k,children:[(0,r.jsx)("option",{value:"",children:"Select your city"}),null==E?void 0:E.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,r.jsx)("p",{className:"error-messages",children:L}),ec.touched.city&&ec.errors.city&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ec.errors.city})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"referral_id",className:"delivery-form-level",children:"Referral ID"}),(0,r.jsx)("input",{type:"text",className:"delivery-form-control",id:"referral_id",name:"referral_id",placeholder:"Enter referral id",value:ec.values.referral_id,onChange:ec.handleChange,onBlur:ec.handleBlur})]}),(0,r.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 mt-3",children:[(0,r.jsx)("button",{type:"submit",className:"taxisafar-theme-button driver-register-btn w-100",disabled:ec.isSubmitting,children:(0,r.jsx)("span",{className:"btn-title",children:ec.isSubmitting?"Please Wait..":"Next"})}),(0,r.jsx)("p",{className:"error-messages",children:S})]})]})})}),(0,r.jsxs)("p",{className:"driver-register-login-new-user",children:[(0,r.jsx)("span",{className:"",children:"Already have an account?"}),(0,r.jsx)(o(),{href:"/driver-login",className:"ms-1",children:(0,r.jsx)("span",{style:{color:"#010005",fontSize:"18px"},children:"Sign in"})})]}),D&&(0,r.jsx)("div",{className:"camera-modal",children:(0,r.jsxs)("div",{className:"camera-modal-content",children:[(0,r.jsxs)("div",{className:"camera-header",children:[(0,r.jsx)("h5",{children:"Take Your Photo"}),(0,r.jsx)("button",{type:"button",className:"close-camera-btn",onClick:ed,children:"\xd7"})]}),(0,r.jsx)("div",{className:"camera-preview",children:(0,r.jsx)("video",{ref:C,autoPlay:!0,playsInline:!0})}),(0,r.jsx)("button",{type:"button",className:"capture-btn",onClick:()=>{if(C.current){let e=document.createElement("canvas");e.width=C.current.videoWidth,e.height=C.current.videoHeight;let a=e.getContext("2d");if(a){a.drawImage(C.current,0,0,e.width,e.height);let i=e.toDataURL("image/png");f(i),ec.setFieldValue("profilePhoto",i),ed()}}},children:"Capture"})]})})]}),2===F&&(0,r.jsx)(r.Fragment,{children:J?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"otp-verification-section",children:[(0,r.jsx)("h2",{className:"otp-title",children:"Verify Aadhaar Card"}),(0,r.jsxs)("p",{className:"otp-description",children:["OTP has been sent to registered mobile number"," ",(0,r.jsxs)("span",{children:[" ",em.values.aadhaarNumber]})]}),(0,r.jsxs)("div",{className:"otp-verification-container",children:[(0,r.jsx)("div",{className:"otp-input-container",children:I.map((e,a)=>(0,r.jsx)("input",{id:"otp-input-".concat(a),type:"text",className:"otp-input",placeholder:"0",value:e,onChange:e=>ep(a,e.target.value),onKeyDown:e=>eh(a,e),maxLength:1,autoFocus:0===a},a))}),$&&(0,r.jsx)("p",{className:"text-danger otp-error-message",children:$})]}),(0,r.jsx)("button",{className:"taxisafar-theme-button verify-btn w-100 mt-3",onClick:eg,disabled:4!==I.join("").length,children:"Verify"}),(0,r.jsx)("div",{className:"resend-otp mt-3",children:(0,r.jsxs)("p",{className:"resend-text text-center",children:[" ",(0,r.jsx)("button",{type:"button",className:"resend-button",onClick:ev,disabled:z,children:z?(0,r.jsxs)("span",{style:{color:"#01000599",fontWeight:"400"},children:[" ","Resend again in"," ",(0,r.jsxs)("span",{style:{color:"#010005",fontWeight:"600"},children:["00:",W]})," "]}):"Resend OTP"})]})})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"delivery-register-info",children:[(0,r.jsx)("h1",{className:"delivery-register-title",children:"Document Verify"}),(0,r.jsx)("p",{className:"delivery-register-description",children:"Upload your document to verify your profile."})]}),(0,r.jsxs)("form",{className:"form",onSubmit:em.handleSubmit,autoComplete:"off",children:[(0,r.jsxs)("div",{className:"document-section mb-4",children:[(0,r.jsx)("h3",{className:"delivery-form-level",children:"Aadhaar Card"}),(0,r.jsx)("div",{className:"document-upload-container",children:(0,r.jsx)("div",{className:"document-preview",children:(null==em?void 0:null===(e=em.values)||void 0===e?void 0:e.aadhaarDocument)?(0,r.jsxs)("div",{className:"document-preview-container",children:[(0,r.jsxs)("div",{className:"document-preview-image-container",children:[(0,r.jsx)("img",{src:"/images/icons/file.svg",alt:"Aadhaar preview",className:"document-preview-image"}),(0,r.jsx)("span",{className:"file-name",children:M||"aadhaar_document.jpg"})]}),(0,r.jsx)("button",{type:"button",className:"change-document-btn",onClick:()=>{em.setFieldValue("aadhaarDocument",null),em.setFieldValue("aadhaarNumber","")},children:(0,r.jsx)("img",{src:"/images/icons/cancel.svg",alt:"Remove",className:"document-preview-image"})})]}):(0,r.jsxs)("label",{className:"document-upload-btn",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",className:"d-none",onChange:e=>{var a,i,r;eu("aadhaarDocument",(null===(a=e.target.files)||void 0===a?void 0:a[0])||null),T((null===(r=e.target.files)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.name)||" ")}}),(0,r.jsx)(g(),{width:24,height:24,src:"/images/icons/upload-icon.svg",alt:"upload-icon"}),(0,r.jsxs)("span",{className:"upload-file-span",children:[" ","Upload Document"]})]})})}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("label",{htmlFor:"aadhaarNumber",className:"delivery-form-level",children:"Aadhar Card No"}),(0,r.jsx)("input",{type:"text",className:"delivery-form-control",id:"aadhaarNumber",name:"aadhaarNumber",placeholder:"Enter aadhar card no",value:em.values.aadhaarNumber,onChange:em.handleChange,onBlur:em.handleBlur}),(0,r.jsx)("button",{onClick:()=>X(!0),className:"aadhar-card-verify-btn",children:"Verify"}),em.touched.aadhaarNumber&&em.errors.aadhaarNumber&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:em.errors.aadhaarNumber})]})]}),(0,r.jsxs)("div",{className:"document-section mb-4",children:[(0,r.jsx)("h3",{className:"delivery-form-level",children:"PAN Card"}),(0,r.jsx)("div",{className:"document-upload-container",children:(0,r.jsx)("div",{className:"document-preview",children:(null==em?void 0:null===(a=em.values)||void 0===a?void 0:a.panDocument)?(0,r.jsxs)("div",{className:"document-preview-container",children:[(0,r.jsxs)("div",{className:"document-preview-image-container",children:[(0,r.jsx)("img",{src:"/images/icons/file.svg",alt:"PAN preview",className:"document-preview-image"}),(0,r.jsx)("span",{className:"file-name",children:_||"pan_document.jpg"})]}),(0,r.jsx)("button",{type:"button",className:"change-document-btn",onClick:()=>{em.setFieldValue("panDocument",null)},children:(0,r.jsx)("img",{src:"/images/icons/cancel.svg",alt:"Remove",className:"document-preview-image"})})]}):(0,r.jsxs)("label",{className:"document-upload-btn",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",className:"d-none",onChange:e=>{var a,i,r;eu("panDocument",(null===(a=e.target.files)||void 0===a?void 0:a[0])||null),Y((null===(r=e.target.files)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.name)||" ")}}),(0,r.jsx)(g(),{width:24,height:24,src:"/images/icons/upload-icon.svg",alt:"upload-icon"}),(0,r.jsxs)("span",{className:"upload-file-span",children:[" ","Upload Document"]})]})})})]}),(0,r.jsxs)("div",{className:"document-section mb-4",children:[(0,r.jsx)("h3",{className:"delivery-form-level",children:"Driving License"}),(0,r.jsx)("div",{className:"document-upload-container",children:(0,r.jsx)("div",{className:"document-preview",children:(null==em?void 0:null===(i=em.values)||void 0===i?void 0:i.drivingLicenseDocument)?(0,r.jsxs)("div",{className:"document-preview-container",children:[(0,r.jsxs)("div",{className:"document-preview-image-container",children:[(0,r.jsx)("img",{src:"/images/icons/file.svg",alt:"License preview",className:"document-preview-image"}),(0,r.jsx)("span",{className:"file-name",children:U||"license_document.jpg"})]}),(0,r.jsx)("button",{type:"button",className:"change-document-btn",onClick:()=>{em.setFieldValue("drivingLicenseDocument",null),em.setFieldValue("drivingLicenseNumber",""),em.setFieldValue("drivingLicenseExpiry","")},children:(0,r.jsx)("img",{src:"/images/icons/cancel.svg",alt:"Remove",className:"document-preview-image"})})]}):(0,r.jsxs)("label",{className:"document-upload-btn",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",className:"d-none",onChange:e=>{var a,i,r;eu("drivingLicenseDocument",(null===(a=e.target.files)||void 0===a?void 0:a[0])||null),A((null===(r=e.target.files)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.name)||" ")}}),(0,r.jsx)(g(),{width:24,height:24,src:"/images/icons/upload-icon.svg",alt:"upload-icon"}),(0,r.jsxs)("span",{className:"upload-file-span",children:[" ","Upload Document"]})]})})}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("label",{htmlFor:"drivingLicenseNumber",className:"delivery-form-level",children:"Driving License Number"}),(0,r.jsx)("input",{type:"text",className:"delivery-form-control",id:"drivingLicenseNumber",name:"drivingLicenseNumber",placeholder:"Enter your driving license number",value:em.values.drivingLicenseNumber,onChange:em.handleChange,onBlur:em.handleBlur}),em.touched.drivingLicenseNumber&&em.errors.drivingLicenseNumber&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:em.errors.drivingLicenseNumber})]}),(0,r.jsxs)("div",{className:"mt-3 position-relative",children:[(0,r.jsx)("label",{htmlFor:"drivingLicenseExpiry",className:"delivery-form-level",children:"Driving License Expiry Date"}),(0,r.jsxs)("div",{className:"input-group datepicker-container",children:[(0,r.jsx)(x(),{selected:em.values.drivingLicenseExpiry?new Date(em.values.drivingLicenseExpiry.split("-").reverse().join("-")):null,onChange:e=>{let a=e?(0,y.WU)(e,"dd-MM-yyyy"):"";em.setFieldValue("drivingLicenseExpiry",a)},dateFormat:"dd-MM-yyyy",placeholderText:"dd-mm-yyyy",className:"delivery-form-control",id:"drivingLicenseExpiry",name:"drivingLicenseExpiry",showYearDropdown:!0,dropdownMode:"select",showPopperArrow:!1,popperPlacement:"bottom-start",peekNextMonth:!0,showMonthDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100}),(0,r.jsx)("div",{className:"calendar-icon-container"})]}),em.touched.drivingLicenseExpiry&&em.errors.drivingLicenseExpiry&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:em.errors.drivingLicenseExpiry})]})]}),(0,r.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 mt-3",children:(0,r.jsx)("button",{type:"submit",className:"taxisafar-theme-button driver-register-btn w-100",disabled:em.isSubmitting,children:(0,r.jsx)("span",{className:"btn-title",children:em.isSubmitting?"Verifying...":"Next"})})})]})]})}),3===F&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"delivery-register-info",children:[(0,r.jsx)("h1",{className:"delivery-register-title",children:"Vehicle Registration"}),(0,r.jsx)("p",{className:"delivery-register-description",children:"Upload your vehicle documents for verification"})]}),(0,r.jsxs)("form",{className:"form",onSubmit:ey.handleSubmit,autoComplete:"off",children:[(0,r.jsxs)("div",{className:"document-section mb-4",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"vehicleRegNumber",className:"delivery-form-level",children:"Vehicle Registration *"}),(0,r.jsx)("input",{type:"text",className:"delivery-form-control",id:"vehicleRegNumber",name:"vehicleRegNumber",placeholder:"DL01AB1234",value:ey.values.vehicleRegNumber,onChange:ey.handleChange,onBlur:ey.handleBlur}),ey.touched.vehicleRegNumber&&ey.errors.vehicleRegNumber&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.vehicleRegNumber})]}),(0,r.jsxs)("div",{className:"mb-3 position-relative",children:[(0,r.jsx)("label",{htmlFor:"vehicleRegDate",className:"delivery-form-level",children:"Date of Registration *"}),(0,r.jsxs)("div",{className:"input-group datepicker-container",children:[(0,r.jsx)(x(),{selected:ey.values.vehicleRegDate?new Date(ey.values.vehicleRegDate.split("-").reverse().join("-")):null,onChange:e=>{let a=e?(0,y.WU)(e,"dd-MM-yyyy"):"";ey.setFieldValue("vehicleRegDate",a)},dateFormat:"dd-MM-yyyy",placeholderText:"dd-mm-yyyy",className:"delivery-form-control",id:"vehicleRegDate",name:"vehicleRegDate",showYearDropdown:!0,dropdownMode:"select",maxDate:new Date}),(0,r.jsx)("div",{className:"calendar-icon-container"})]}),ey.touched.vehicleRegDate&&ey.errors.vehicleRegDate&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.vehicleRegDate})]}),(0,r.jsxs)("div",{className:"mb-3 position-relative",children:[(0,r.jsx)("label",{htmlFor:"regValidityDate",className:"delivery-form-level",children:"Registration Validity Date *"}),(0,r.jsxs)("div",{className:"input-group datepicker-container",children:[(0,r.jsx)(x(),{selected:ey.values.regValidityDate?new Date(ey.values.regValidityDate.split("-").reverse().join("-")):null,onChange:e=>{let a=e?(0,y.WU)(e,"dd-MM-yyyy"):"";ey.setFieldValue("regValidityDate",a)},dateFormat:"dd-MM-yyyy",placeholderText:"dd-mm-yyyy",className:"delivery-form-control",id:"regValidityDate",name:"regValidityDate",showYearDropdown:!0,dropdownMode:"select",minDate:new Date}),(0,r.jsx)("div",{className:"calendar-icon-container"})]}),ey.touched.regValidityDate&&ey.errors.regValidityDate&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.regValidityDate})]})]}),(0,r.jsxs)("div",{className:"document-section mb-4",children:[(0,r.jsx)("h3",{className:"delivery-form-level",children:"RC Book Documents"}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"delivery-form-level",children:"Front Side of RC Book *"}),(0,r.jsx)("div",{className:"document-upload-container",children:ey.values.rcFrontDocument?(0,r.jsxs)("div",{className:"document-preview-container",children:[(0,r.jsxs)("div",{className:"document-preview-image-container",children:[(0,r.jsx)("img",{src:"/images/icons/file.svg",alt:"RC Front preview",className:"document-preview-image"}),(0,r.jsx)("span",{className:"file-name",children:H||"rc_front.jpg"})]}),(0,r.jsx)("button",{type:"button",className:"change-document-btn",onClick:()=>{ey.setFieldValue("rcFrontDocument",null),Q("")},children:(0,r.jsx)("img",{src:"/images/icons/cancel.svg",alt:"Remove",className:"document-preview-image"})})]}):(0,r.jsxs)("label",{className:"document-upload-btn",children:[(0,r.jsx)("input",{type:"file",accept:"image/*,.pdf",className:"d-none",onChange:e=>{var a;let i=null===(a=e.target.files)||void 0===a?void 0:a[0];i&&(ex("rcFrontDocument",i),Q(i.name))}}),(0,r.jsx)(g(),{width:24,height:24,src:"/images/icons/upload-icon.svg",alt:"upload-icon"}),(0,r.jsxs)("span",{className:"upload-file-span",children:[" ","Upload Front Side"]})]})}),ey.touched.rcFrontDocument&&ey.errors.rcFrontDocument&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.rcFrontDocument})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"delivery-form-level",children:"Back Side of RC Book *"}),(0,r.jsx)("div",{className:"document-upload-container",children:ey.values.rcBackDocument?(0,r.jsxs)("div",{className:"document-preview-container",children:[(0,r.jsxs)("div",{className:"document-preview-image-container",children:[(0,r.jsx)("img",{src:"/images/icons/file.svg",alt:"RC Back preview",className:"document-preview-image"}),(0,r.jsx)("span",{className:"file-name",children:ee||"rc_back.jpg"})]}),(0,r.jsx)("button",{type:"button",className:"change-document-btn",onClick:()=>{ey.setFieldValue("rcBackDocument",null),ea("")},children:(0,r.jsx)("img",{src:"/images/icons/cancel.svg",alt:"Remove",className:"document-preview-image"})})]}):(0,r.jsxs)("label",{className:"document-upload-btn",children:[(0,r.jsx)("input",{type:"file",accept:"image/*,.pdf",className:"d-none",onChange:e=>{var a;let i=null===(a=e.target.files)||void 0===a?void 0:a[0];i&&(ex("rcBackDocument",i),ea(i.name))}}),(0,r.jsx)(g(),{width:24,height:24,src:"/images/icons/upload-icon.svg",alt:"upload-icon"}),(0,r.jsxs)("span",{className:"upload-file-span",children:[" ","Upload Back Side"]})]})}),ey.touched.rcBackDocument&&ey.errors.rcBackDocument&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.rcBackDocument})]})]}),(0,r.jsxs)("div",{className:"document-section mb-4",children:[(0,r.jsx)("h3",{className:"delivery-form-level",children:"Insurance Details"}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"delivery-form-level",children:"Insurance Document *"}),(0,r.jsx)("div",{className:"document-upload-container",children:ey.values.insuranceDocument?(0,r.jsxs)("div",{className:"document-preview-container",children:[(0,r.jsxs)("div",{className:"document-preview-image-container",children:[(0,r.jsx)("img",{src:"/images/icons/file.svg",alt:"Insurance preview",className:"document-preview-image"}),(0,r.jsx)("span",{className:"file-name",children:ei||"insurance.jpg"})]}),(0,r.jsx)("button",{type:"button",className:"change-document-btn",onClick:()=>{ey.setFieldValue("insuranceDocument",null),er("")},children:(0,r.jsx)("img",{src:"/images/icons/cancel.svg",alt:"Remove",className:"document-preview-image"})})]}):(0,r.jsxs)("label",{className:"document-upload-btn",children:[(0,r.jsx)("input",{type:"file",accept:"image/*,.pdf",className:"d-none",onChange:e=>{var a;let i=null===(a=e.target.files)||void 0===a?void 0:a[0];i&&(ex("insuranceDocument",i),er(i.name))}}),(0,r.jsx)(g(),{width:24,height:24,src:"/images/icons/upload-icon.svg",alt:"upload-icon"}),(0,r.jsxs)("span",{className:"upload-file-span",children:[" ","Upload Insurance"]})]})}),ey.touched.insuranceDocument&&ey.errors.insuranceDocument&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.insuranceDocument})]}),(0,r.jsxs)("div",{className:"mb-3 position-relative",children:[(0,r.jsx)("label",{htmlFor:"insuranceExpiryDate",className:"delivery-form-level",children:"Insurance Expiry Date *"}),(0,r.jsxs)("div",{className:"input-group datepicker-container",children:[(0,r.jsx)(x(),{selected:ey.values.insuranceExpiryDate?new Date(ey.values.insuranceExpiryDate.split("-").reverse().join("-")):null,onChange:e=>{let a=e?(0,y.WU)(e,"dd-MM-yyyy"):"";ey.setFieldValue("insuranceExpiryDate",a)},dateFormat:"dd-MM-yyyy",placeholderText:"dd-mm-yyyy",className:"delivery-form-control",id:"insuranceExpiryDate",name:"insuranceExpiryDate",showYearDropdown:!0,dropdownMode:"select",minDate:new Date}),(0,r.jsx)("div",{className:"calendar-icon-container"})]}),ey.touched.insuranceExpiryDate&&ey.errors.insuranceExpiryDate&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.insuranceExpiryDate})]})]}),(0,r.jsxs)("div",{className:"document-section mb-4",children:[(0,r.jsx)("h3",{className:"delivery-form-level",children:"1 Year Permit"}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"delivery-form-level",children:"Permit Document *"}),(0,r.jsx)("div",{className:"document-upload-container",children:ey.values.oneYearPermitDocument?(0,r.jsxs)("div",{className:"document-preview-container",children:[(0,r.jsxs)("div",{className:"document-preview-image-container",children:[(0,r.jsx)("img",{src:"/images/icons/file.svg",alt:"Permit preview",className:"document-preview-image"}),(0,r.jsx)("span",{className:"file-name",children:es||"permit.jpg"})]}),(0,r.jsx)("button",{type:"button",className:"change-document-btn",onClick:()=>{ey.setFieldValue("oneYearPermitDocument",null),et("")},children:(0,r.jsx)("img",{src:"/images/icons/cancel.svg",alt:"Remove",className:"document-preview-image"})})]}):(0,r.jsxs)("label",{className:"document-upload-btn",children:[(0,r.jsx)("input",{type:"file",accept:"image/*,.pdf",className:"d-none",onChange:e=>{var a;let i=null===(a=e.target.files)||void 0===a?void 0:a[0];i&&(ex("oneYearPermitDocument",i),et(i.name))}}),(0,r.jsx)(g(),{width:24,height:24,src:"/images/icons/upload-icon.svg",alt:"upload-icon"}),(0,r.jsx)("span",{className:"upload-file-span",children:" Upload Permit"})]})}),ey.touched.oneYearPermitDocument&&ey.errors.oneYearPermitDocument&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.oneYearPermitDocument})]}),(0,r.jsxs)("div",{className:"mb-3 position-relative",children:[(0,r.jsx)("label",{htmlFor:"oneYearPermitExpiryDate",className:"delivery-form-level",children:"Permit Expiry Date *"}),(0,r.jsxs)("div",{className:"input-group datepicker-container",children:[(0,r.jsx)(x(),{selected:ey.values.oneYearPermitExpiryDate?new Date(ey.values.oneYearPermitExpiryDate.split("-").reverse().join("-")):null,onChange:e=>{let a=e?(0,y.WU)(e,"dd-MM-yyyy"):"";ey.setFieldValue("oneYearPermitExpiryDate",a)},dateFormat:"dd-MM-yyyy",placeholderText:"dd-mm-yyyy",className:"delivery-form-control",id:"oneYearPermitExpiryDate",name:"oneYearPermitExpiryDate",showYearDropdown:!0,dropdownMode:"select",minDate:new Date}),(0,r.jsx)("div",{className:"calendar-icon-container"})]}),ey.touched.oneYearPermitExpiryDate&&ey.errors.oneYearPermitExpiryDate&&(0,r.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:ey.errors.oneYearPermitExpiryDate})]})]}),(0,r.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 mt-3",children:[(0,r.jsx)("button",{type:"submit",className:"taxisafar-theme-button driver-register-btn w-100",disabled:!ey.isValid||ey.isSubmitting,children:(0,r.jsx)("span",{className:"btn-title",children:ey.isSubmitting?"Submitting...":"Complete Registration"})}),en&&(0,r.jsx)("p",{className:"text-danger text-center mt-2",children:en})]})]})]}),(0,r.jsx)(u.Z,{position:"top-end",className:"p-3",children:(0,r.jsx)(p.Z,{onClose:()=>v(!1),show:h,delay:3e3,autohide:!0,bg:"danger",children:(0,r.jsx)(p.Z.Body,{className:"text-white",children:j})})})]})]})}i(53794)}},function(e){e.O(0,[2982,658,6705,8154,2543,5675,6282,2888,9774,179],function(){return e(e.s=68711)}),_N_E=e.O()}]);