(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{83236:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(76266)}])},76266:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return N}});var t=n(85893),a=n(67294);n(53794);var r=n(11163);n(89516);var o=n(55066),i=n(16310),l=n(88748),c=n(79556),u=n(57785);n(61369);var m=n(44803),d=n(74865),h=n.n(d);n(70204);var g=e=>{let{buttonName:s,subTitle:n}=e,d=(0,r.useRouter)(),[g,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)(""),[p,N]=(0,a.useState)(""),[f,v]=(0,a.useState)(!1),[_,S]=(0,a.useState)(""),y=(0,o.TA)({initialValues:{name:"",phone_number:""},validationSchema:i.Ry({phone_number:i.Z_().required("Phone number is required").min(5,"Phone number must be at least 5 characters long").max(15,"Phone number cannot be more than 15 characters long")}),onSubmit:async e=>{try{h().start();let s=await (0,m.e$)(e);if(!0==s.status)try{sessionStorage.setItem("name",e.name),sessionStorage.setItem("phone_number",e.phone_number),v(!0),S("".concat(null==s?void 0:s.message)),setTimeout(()=>{d.push("/verifyotp")},3100),h().done()}catch(e){x(!0),j("Something Went Wrong!!"),h().done()}else!1==s.status?(x(!0),j("".concat(null==s?void 0:s.message))):(x(!0),j("Something Went Wrong!!")),h().done()}catch(e){x(!0),j("Something Went Wrong!!"),h().done()}}});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{className:"toast-container-custom",children:(0,t.jsxs)(c.Z,{onClose:()=>x(!1),show:g,delay:3e3,autohide:!0,className:"bg-danger text-white",children:[(0,t.jsxs)(c.Z.Header,{children:[(0,t.jsx)("strong",{className:"me-auto",children:"Message"}),(0,t.jsx)("small",{children:"Just now"})]}),(0,t.jsx)(c.Z.Body,{className:"text-start",children:b})]})}),(0,t.jsx)(l.Z,{className:"toast-container-custom",children:(0,t.jsxs)(c.Z,{onClose:()=>v(!1),show:f,delay:3e3,autohide:!0,className:"bg-success text-white",children:[(0,t.jsxs)(c.Z.Header,{children:[(0,t.jsx)("strong",{className:"me-auto",children:"Message"}),(0,t.jsx)("small",{children:"Just now"})]}),(0,t.jsx)(c.Z.Body,{className:"text-start",children:_})]})}),(0,t.jsxs)("div",{className:"banner-one-form signin-form mt-5",children:[(0,t.jsx)("h3",{className:"form-title mb-0",children:n}),(0,t.jsx)("form",{className:"form",onSubmit:y.handleSubmit,children:(0,t.jsx)("div",{className:"trip-options",children:(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:"mt-3 custom-input position-relative",children:[(0,t.jsx)(u.ZP,{placeholder:"Enter WhatsApp Number",value:y.values.phone_number,defaultCountry:"IN",onChange:e=>{y.setFieldValue("phone_number",e)},onBlur:y.handleBlur}),(0,t.jsx)("i",{className:"icon fa-regular fa-phone-volume position-absolute",style:{right:"30px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"#666"}})]}),y.touched.phone_number&&y.errors.phone_number?(0,t.jsx)("p",{className:"text-danger text-start mb-0 error-message",children:y.errors.phone_number}):null,(0,t.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 mt-3",children:(0,t.jsx)("button",{type:"submit",className:"taxisafar-theme-button w-100",disabled:y.isSubmitting,children:(0,t.jsx)("span",{className:"btn-title",children:y.isSubmitting?"Please Wait..":"Send OTP & Login"})})})]})})})]})]})},x=n(81786),b=n(28115),j=n(9008),p=n.n(j);function N(){let{isAuthenticated:e,checkAuth:s}=(0,b.Z)(),{customerDetail:n}=(0,x.j)(),o=(0,a.useRef)(!1),i=(0,r.useRouter)();return(0,a.useEffect)(()=>{o.current&&e&&(null==n?void 0:n.role)=="customer"?i.push("/booking"):o.current=!0},[e,n]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p(),{children:(0,t.jsx)("title",{children:"Login"})}),(0,t.jsx)("section",{className:"vicky-cab-homebanner",children:(0,t.jsx)("div",{className:"page-header page-background d-flex justify-content-center align-items-center",style:{backgroundImage:"url(/images/banner/bg1.jpg)"},children:(0,t.jsx)("div",{className:"container text-center ",children:(0,t.jsx)("div",{className:"row d-flex items-align-center",children:(0,t.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 pb-5 vickycab-booking-form",children:(0,t.jsx)(g,{buttonName:"Login",subTitle:"Check Your Booking Details"})})})})})})]})}},89516:function(){}},function(e){e.O(0,[658,6705,8154,6087,1697,2888,9774,179],function(){return e(e.s=83236)}),_N_E=e.O()}]);